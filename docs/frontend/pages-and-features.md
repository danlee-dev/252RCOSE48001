# DocScanner AI Frontend Pages & Features

이 문서는 DocScanner AI 프론트엔드의 모든 페이지와 기능을 상세히 정의합니다.

---

## 목차

1. [기술 스택](#기술-스택)
2. [페이지 구조](#페이지-구조)
3. [페이지별 상세 기능](#페이지별-상세-기능)
4. [공통 컴포넌트](#공통-컴포넌트)
5. [상태 관리](#상태-관리)
6. [반응형 디자인](#반응형-디자인)

---

## 기술 스택

| 기술 | 버전 | 용도 |
|------|------|------|
| Next.js | 15.5.4 | React 프레임워크 (App Router) |
| React | 19.1.0 | UI 라이브러리 |
| TypeScript | 5.x | 타입 안전성 |
| Tailwind CSS | 3.4.18 | 스타일링 |
| Radix UI | - | 접근성 있는 UI 컴포넌트 |
| react-markdown | 9.0.1 | 마크다운 렌더링 |
| react-pdf | 10.2.0 | PDF 뷰어 |

---

## 페이지 구조

```
frontend/src/app/
  +-- page.tsx              # 홈 (대시보드)
  +-- login/page.tsx        # 로그인
  +-- register/page.tsx     # 회원가입
  +-- analysis/[id]/page.tsx # 분석 결과
  +-- settings/page.tsx     # 설정
  +-- checklist/page.tsx    # 고용계약 체크리스트
  +-- scan/page.tsx         # 실시간 스캔
  +-- presentation/page.tsx # 프레젠테이션 (데모용)
```

---

## 페이지별 상세 기능

### 1. 홈페이지 (Dashboard)

**경로**: `/`

**인증**: 필수 (미인증 시 `/login` 리다이렉트)

#### 레이아웃

```
+----------------------------------------------------------+
| [Logo] DocScanner AI    [Scan][Checklist][+] [Bell][User] |
+----------------------------------------------------------+
|                                                          |
|  계약서 목록                                              |
|  총 N건의 계약서                                          |
|                                                          |
|  +----------------------------------------------------+  |
|  | [Icon] 계약서명.pdf    | 완료 | High | 2025-01-01 |  |
|  +----------------------------------------------------+  |
|  | [Icon] 계약서명.hwp    | 분석중 |     | 2025-01-01 |  |
|  +----------------------------------------------------+  |
|                                                          |
|  +-- 고용계약 체크리스트 배너 --+                          |
|                                                          |
+----------------------------------------------------------+
```

#### 기능 목록

| 기능 | 설명 |
|------|------|
| **계약서 목록 조회** | 사용자의 모든 계약서를 테이블/카드 형태로 표시 |
| **계약서 업로드** | 사이드바 슬라이드로 파일 업로드 (드래그앤드롭 지원) |
| **계약서 삭제** | 확인 후 개별 계약서 삭제 |
| **실시간 상태 업데이트** | 분석 중인 계약서 5초마다 자동 폴링 |
| **알림 드롭다운** | 분석 완료/실패 알림 표시, 읽음 처리 |
| **사용자 메뉴** | 프로필, 설정, 로그아웃 |
| **빠른 액션 버튼** | 스캔, 체크리스트, 업로드 바로가기 |

#### 지원 파일 형식

| 유형 | 확장자 |
|------|--------|
| 문서 | .pdf, .hwp, .hwpx, .docx, .doc, .txt, .rtf, .md |
| 이미지 | .png, .jpg, .jpeg, .gif, .webp, .bmp, .tiff |

**최대 파일 크기**: 50MB

#### 계약서 상태

| 상태 | 배지 색상 | 설명 |
|------|----------|------|
| PENDING | 회색 | 대기 중 |
| PROCESSING | 회색 + 로딩 | 분석 중 |
| COMPLETED | 녹색 | 분석 완료 |
| FAILED | 빨강 | 분석 실패 |

---

### 2. 로그인 페이지

**경로**: `/login`

**인증**: 불필요

#### 기능

| 기능 | 설명 |
|------|------|
| 이메일/비밀번호 로그인 | JWT 토큰 발급 후 홈으로 리다이렉트 |
| 회원가입 링크 | `/register`로 이동 |
| 에러 표시 | 인증 실패 시 에러 메시지 표시 |
| 로딩 상태 | 로그인 처리 중 버튼 비활성화 + 스피너 |

#### 폼 필드

| 필드 | 타입 | 필수 | 검증 |
|------|------|------|------|
| email | email | O | 이메일 형식 |
| password | password | O | - |

---

### 3. 회원가입 페이지

**경로**: `/register`

**인증**: 불필요

#### 기능

| 기능 | 설명 |
|------|------|
| 계정 생성 | 이름, 이메일, 비밀번호로 가입 |
| 자동 로그인 | 가입 성공 시 자동 로그인 후 홈 이동 |
| 로그인 링크 | `/login`으로 이동 |

#### 폼 필드

| 필드 | 타입 | 필수 | 검증 |
|------|------|------|------|
| name | text | O | - |
| email | email | O | 이메일 형식 |
| password | password | O | 4자 이상 |

---

### 4. 분석 결과 페이지

**경로**: `/analysis/[id]`

**인증**: 필수

#### 레이아웃 (2컬럼)

```
+---------------------------+---------------------------+
|      왼쪽 패널 (50%)       |     오른쪽 패널 (50%)      |
|                           |                           |
|    [PDF 뷰어]              |  [탭: 개요|위험조항|텍스트] |
|    - 줌 인/아웃            |                           |
|    - 페이지 네비게이션      |  [위험 조항 카드들]        |
|    - 텍스트 선택 -> AI 질문 |  - 조항 번호              |
|                           |  - 위험도 배지             |
|                           |  - 법적 근거              |
|                           |  - 수정 제안              |
|                           |  - CRAG 출처              |
+---------------------------+---------------------------+
                    |
              [AI 채팅 패널]
              (우측 사이드바, 리사이즈 가능)
```

#### 기능 목록

| 기능 | 설명 |
|------|------|
| **PDF 뷰어** | 원본 계약서 PDF 표시, 줌(50%~200%), 페이지 네비게이션 |
| **텍스트 선택 -> AI 질문** | 텍스트 드래그 시 툴팁, AI 채팅으로 질문 전송 |
| **탭 전환** | 개요 / 위험 조항 / 전체 텍스트 |
| **위험 조항 카드** | 접기/펼치기, 위험 사유, 법적 근거, 수정 제안, CRAG 출처 |
| **정렬 옵션** | 기본순 / 위험도순 / 조항 번호순 |
| **체불 예상액 표시** | 월간/연간 체불액 (stress_test 결과) |
| **AI 분석 품질 지표** | Judge 점수 (접히는 상세 정보) |
| **AI 채팅 패널** | SSE 스트리밍, 도구 실행 상태 표시, 리사이즈 가능 |

#### 위험도 배지

| 레벨 | 색상 | 아이콘 |
|------|------|--------|
| HIGH | 빨강 | Danger |
| MEDIUM | 주황 | Warning |
| LOW | 녹색 | Check |

#### AI 채팅 기능

| 기능 | 설명 |
|------|------|
| SSE 스트리밍 | 실시간 토큰 단위 응답 표시 |
| 도구 실행 상태 | 법령 검색, 그래프 검색, 웹 검색 진행 상황 |
| 대화 히스토리 | 이전 대화 컨텍스트 유지 |
| 빠른 질문 버튼 | 미리 정의된 질문 템플릿 |
| 생성 중단 | 응답 생성 중 중단 가능 |
| 마크다운 렌더링 | 응답을 마크다운으로 표시 |

#### 모바일 대응

- 뷰 전환 탭 (원본 문서 / 분석 결과)
- 채팅 패널 전체화면 오버레이

---

### 5. 설정 페이지

**경로**: `/settings`

**인증**: 필수

#### 탭 구조

| 탭 | 기능 |
|----|------|
| **프로필** | 사용자명, 이메일 수정, 가입일 표시 |
| **보안** | 비밀번호 변경, 계정 삭제 |
| **알림** | 푸시 알림, 이메일 알림 설정 |

#### 프로필 탭

| 필드 | 수정 가능 | 설명 |
|------|----------|------|
| 아바타 | X | 이름 첫 글자 표시 |
| 사용자 이름 | O | 텍스트 입력 |
| 이메일 | O | 이메일 입력 |
| 가입일 | X | 읽기 전용 |

#### 보안 탭

| 기능 | 설명 |
|------|------|
| 비밀번호 변경 | 현재 비밀번호 확인 후 새 비밀번호 설정 (8자 이상) |
| 계정 삭제 | "계정 삭제" 텍스트 입력 확인 후 영구 삭제 |

#### 알림 탭

| 설정 | 기본값 | 설명 |
|------|--------|------|
| 분석 완료 알림 | ON | 분석 완료 시 푸시 알림 |
| 분석 실패 알림 | ON | 분석 실패 시 푸시 알림 |
| 이메일 알림 | OFF | 중요 알림 이메일 발송 |

---

### 6. 체크리스트 페이지

**경로**: `/checklist`

**인증**: 필수

#### 레이아웃

```
+----------------------------------------------------------+
| [<] 고용계약 체크리스트                    [12/18] [====] |
+----------------------------------------------------------+
| [============================] 67%                        |
+----------------------------------------------------------+
|                                                          |
| 1. 기본 근로조건                                [3/4]    |
| +----------------------------------------------------+  |
| | [ ] 근로계약 기간이 명시되어 있는가?      [필수]    |  |
| |     > 팁 보기                                       |  |
| +----------------------------------------------------+  |
| | [v] 근무 장소와 업무 내용이 구체적인가?   [필수]    |  |
| +----------------------------------------------------+  |
|                                                          |
| 2. 임금 관련                                   [2/4]    |
| ...                                                      |
|                                                          |
+----------------------------------------------------------+
| +-- 계약서 분석 CTA 배너 --+                              |
+----------------------------------------------------------+
```

#### 카테고리 (5개)

| 카테고리 | 항목 수 | 설명 |
|----------|--------|------|
| 기본 근로조건 | 4 | 계약기간, 근무장소, 근로시간, 휴게시간 |
| 임금 관련 | 4 | 최저임금, 급여지급일, 연장수당, 상여금 |
| 휴가 및 휴일 | 3 | 주휴일, 연차휴가, 경조사휴가 |
| 계약 종료 | 3 | 해고사유, 퇴직금, 경업금지 |
| 기타 확인사항 | 3 | 4대보험, 위약금, 교육비반환 |

#### 기능

| 기능 | 설명 |
|------|------|
| 체크박스 토글 | 항목별 체크/해제, 애니메이션 효과 |
| 진행률 표시 | 전체 및 카테고리별 진행률 |
| 팁 토글 | 각 항목의 법적 근거/주의사항 |
| 중요도 배지 | 필수(빨강), 중요(주황), 권장(회색) |
| CTA 배너 | 계약서 분석 페이지 이동 유도 |

---

### 7. 실시간 스캔 페이지

**경로**: `/scan`

**인증**: 필수

#### 레이아웃

```
+----------------------------------------------------------+
|                    [카메라 프리뷰]                         |
|                                                          |
|         +--------------------------------+               |
|         |                                |               |
|         |       [스캔 프레임 가이드]       |               |
|         |                                |               |
|         +--------------------------------+               |
|                                                          |
|    +-- Quick Tip: 급여, 수당 조항 확인 --+                |
|                                                          |
|                    [스캔 버튼]                            |
|              계약서를 프레임 안에 맞추세요                  |
+----------------------------------------------------------+
```

#### 기능

| 기능 | 설명 |
|------|------|
| **카메라 접근** | 전/후면 카메라 전환 지원 |
| **스캔 프레임 가이드** | 모서리 가이드라인 표시 |
| **Quick Scan** | 이미지 캡처 -> OCR -> 키워드 매칭 (목표: 3초 이내) |
| **위험 조항 감지** | 위약금, 초과근무, 연차 등 키워드 탐지 |
| **핑계 도우미** | 촬영 상황 대비 핑계 템플릿 (클립보드 복사) |
| **Quick Tip 로테이션** | 4초마다 팁 변경 |
| **결과 패널** | 바텀시트로 결과 표시, 위험 조항 카드 |

#### 핑계 템플릿

| 제목 | 문구 |
|------|------|
| 부모님 핑계 | "부모님이 계약서는 꼭 사진 찍어서 보내라고 하셨어요." |
| 기록용 | "기록용으로 사진 한 장만 찍어둘게요." |
| 변호사 지인 | "변호사 친구가 계약서는 항상 사진 찍어두라고 해서요." |
| 회사 규정 | "회사에서 계약 전에 꼭 검토하라고 해서요." |

#### 스캔 결과

```typescript
interface QuickScanResult {
  risk_level: "HIGH" | "MEDIUM" | "LOW" | "SAFE";
  detected_clauses: DetectedClause[];
  summary: string;
  scan_time_ms: number;
}
```

---

### 8. 프레젠테이션 페이지

**경로**: `/presentation`

**인증**: 불필요 (데모용)

**용도**: 발표/데모용 페이지

---

## 공통 컴포넌트

### 아이콘 시스템

**파일**: `frontend/src/components/icons.tsx`

| 아이콘 | 용도 |
|--------|------|
| IconLoading | 로딩 스피너 |
| IconCheck | 성공/체크 |
| IconWarning | 경고 (Medium) |
| IconDanger | 위험 (High) |
| IconDocument | 문서 |
| IconUpload | 업로드 |
| IconTrash | 삭제 |
| IconChat | 채팅 |
| IconSend | 전송 |
| IconClose | 닫기 |
| IconArrowLeft | 뒤로가기 |
| IconChevronRight | 화살표 |
| IconBell | 알림 |
| IconSettings | 설정 |
| IconUser | 사용자 |
| IconLogout | 로그아웃 |
| IconScan | 스캔 |
| IconChecklist | 체크리스트 |
| IconCamera | 카메라 |

### 배지 시스템

```css
.badge-danger   /* 빨강: 고위험 */
.badge-warning  /* 주황: 중위험 */
.badge-success  /* 녹색: 저위험/완료 */
.badge-neutral  /* 회색: 대기/분석중 */
```

### PDF 뷰어

**파일**: `frontend/src/components/pdf-viewer.tsx`

- `react-pdf` 기반
- 클라이언트 사이드 렌더링 (dynamic import)
- 줌: 50%~200%
- 페이지 네비게이션
- 텍스트 선택 이벤트 핸들링

---

## 상태 관리

### 인증 상태

- `localStorage`에 JWT 토큰 저장
- `authApi.isAuthenticated()`: 토큰 존재 여부 확인
- 미인증 시 `/login` 리다이렉트

### API 클라이언트

**파일**: `frontend/src/lib/api.ts`

```typescript
// Auth API
authApi.login(email, password)
authApi.register(email, password, username)
authApi.logout()
authApi.getMe()
authApi.isAuthenticated()

// Contracts API
contractsApi.list()
contractsApi.get(id)
contractsApi.upload(file)
contractsApi.delete(id)

// Agent Chat API
agentChatApi.streamChatWithHistory(contractId, message, history, onEvent, onError, onComplete)
```

---

## 반응형 디자인

### 브레이크포인트

| 크기 | Tailwind | 설명 |
|------|----------|------|
| xs | 475px | 소형 모바일 |
| sm | 640px | 모바일 |
| md | 768px | 태블릿 |
| lg | 1024px | 데스크탑 |
| xl | 1280px | 대형 데스크탑 |

### 페이지별 모바일 대응

| 페이지 | 모바일 대응 |
|--------|------------|
| 홈 | 카드 뷰 (테이블 -> 카드) |
| 분석 | 뷰 전환 탭 (PDF/분석), 채팅 전체화면 |
| 설정 | 가로 스크롤 탭 |
| 체크리스트 | 동일 레이아웃 |
| 스캔 | 전체화면 카메라 뷰 |

### Safe Area

iOS 노치/홈 인디케이터 대응:
```css
padding-bottom: env(safe-area-inset-bottom);
padding-top: env(safe-area-inset-top);
```

---

## 애니메이션

### 정의된 애니메이션

| 클래스 | 효과 |
|--------|------|
| animate-fadeIn | 페이드 인 |
| animate-fadeInUp | 아래에서 페이드 인 |
| animate-fadeInDown | 위에서 페이드 인 |
| animate-slideInRight | 오른쪽에서 슬라이드 |
| animate-slideInUp | 아래에서 슬라이드 |
| animate-scaleIn | 스케일 + 페이드 |
| animate-scan-line | 스캔 라인 애니메이션 |

### 트랜지션

- `transition-all duration-200`: 기본 트랜지션
- `transition-colors`: 색상 변경
- `transition-transform`: 변형 애니메이션

---

*최종 업데이트: 2025-12*

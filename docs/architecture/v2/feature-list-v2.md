# DocScanner.ai 기능 리스트

이 문서는 DocScanner.ai 프로젝트의 전체 기능을 정리한 문서입니다.
백엔드 연결 여부와 관계없이 모든 구현 예정 기능을 포함합니다.

---

## 1. 인증 및 사용자 관리

### 1.1 로그인 (`/login`)
| 기능 | 설명 | 백엔드 연결 |
|------|------|------------|
| 이메일/비밀번호 로그인 | 이메일과 비밀번호로 인증 | O |
| 비밀번호 표시/숨기기 토글 | 눈 아이콘으로 비밀번호 가시성 전환 | - |
| 로그인 로딩 상태 | 로그인 처리 중 로딩 스피너 표시 | - |
| 에러 메시지 표시 | 인증 실패 시 에러 메시지 표시 | O |
| 디바이스 목업 애니메이션 | 로그인 화면 좌측 스캔 시연 애니메이션 | - |

### 1.2 회원가입 (`/register`)
| 기능 | 설명 | 백엔드 연결 |
|------|------|------------|
| 이름/이메일/비밀번호 입력 | 신규 사용자 정보 입력 | O |
| 비밀번호 강도 표시기 | 4단계 비밀번호 강도 시각화 (너무 짧음/약함/보통/강함) | - |
| 비밀번호 확인 검증 | 비밀번호 일치 여부 실시간 확인 | - |
| 자동 로그인 | 회원가입 완료 후 자동 로그인 처리 | O |

### 1.3 토큰 관리
| 기능 | 설명 | 백엔드 연결 |
|------|------|------------|
| Access Token 발급 | JWT 기반 인증 토큰 발급 (1일 유효) | O |
| Refresh Token 발급 | 토큰 갱신용 리프레시 토큰 (14일 유효) | O |
| 토큰 갱신 | Access Token 만료 시 자동 갱신 | O |
| 로그아웃 | Refresh Token 무효화 | O |

---

## 2. 대시보드 (`/`)

### 2.1 통계 요약
| 기능 | 설명 | 백엔드 연결 |
|------|------|------------|
| 총 분석 건수 표시 | 사용자의 전체 분석 계약서 수 | O |
| 위험도별 분포 차트 | Pie Chart로 고위험/중위험/저위험 분포 시각화 | O |
| 최근 분석 목록 | 최근 분석한 계약서 리스트 | O |

### 2.2 계약서 업로드
| 기능 | 설명 | 백엔드 연결 |
|------|------|------------|
| 파일 드래그 앤 드롭 | PDF, 이미지 파일 드래그 앤 드롭 업로드 | O |
| 파일 선택 다이얼로그 | 클릭으로 파일 탐색기 열기 | - |
| 업로드 진행률 표시 | 업로드 진행 상태 시각화 | O |
| 지원 파일 형식 | PDF, PNG, JPG, JPEG | O |

### 2.3 AI 아바타
| 기능 | 설명 | 백엔드 연결 |
|------|------|------------|
| 인터랙티브 AI 오브 | 움직이는 AI 아바타 표시 | - |
| Swirl 애니메이션 | WebGL 기반 동적 오브 애니메이션 | - |

---

## 3. 분석 결과 상세 (`/analysis/[id]`)

### 3.1 분석 결과 뷰어
| 기능 | 설명 | 백엔드 연결 |
|------|------|------------|
| PDF 문서 뷰어 | 원본 계약서 PDF 미리보기 | O |
| 위험 조항 하이라이팅 | 문서 내 위험 조항 시각적 강조 | O |
| 위험도 배지 | 전체 위험도 레벨 표시 (HIGH/MEDIUM/LOW/SAFE) | O |
| 분석 요약 | AI 분석 결과 요약문 | O |

### 3.2 조항별 상세 분석
| 기능 | 설명 | 백엔드 연결 |
|------|------|------------|
| 위험 조항 리스트 | 탐지된 위험 조항 목록 | O |
| 조항별 위험도 | 각 조항의 위험 수준 표시 | O |
| 법적 근거 | 위반 법령 및 조항 설명 | O |
| 수정 제안 | Redlining 기반 수정안 | O |

### 3.3 AI 채팅
| 기능 | 설명 | 백엔드 연결 |
|------|------|------------|
| 실시간 스트리밍 채팅 | SSE 기반 실시간 응답 스트리밍 | O |
| 대화 히스토리 | 이전 대화 내역 유지 | O |
| 컨텍스트 기반 응답 | 분석 결과 기반 맞춤 답변 | O |
| 추가 질문 | 분석 결과에 대한 후속 질문 | O |

### 3.4 수치 시뮬레이션 (Stress Test)
| 기능 | 설명 | 백엔드 연결 |
|------|------|------------|
| 최저임금 미달 검사 | 시급 기준 최저임금 위반 여부 | O |
| 연장근로수당 계산 | 연장/야간/휴일 수당 적정성 검토 | O |
| 주휴수당 검증 | 주휴수당 지급 여부 확인 | O |
| 미지급 임금 계산 | 월간/연간 미지급 예상액 산출 | O |

### 3.5 추론 과정 시각화 (XAI)
| 기능 | 설명 | 백엔드 연결 |
|------|------|------------|
| Reasoning Trace | 분석 추론 과정 그래프 | O |
| Mermaid 다이어그램 | 플로우차트 형식 시각화 | O |
| 근거 문서 연결 | 참조 법령/판례 링크 | O |

---

## 4. 빠른 스캔 (`/scan`)

### 4.1 카메라 기능
| 기능 | 설명 | 백엔드 연결 |
|------|------|------------|
| 실시간 카메라 프리뷰 | 디바이스 카메라 스트리밍 | - |
| 전면/후면 카메라 전환 | 카메라 방향 전환 버튼 | - |
| 권한 요청/처리 | 카메라 접근 권한 관리 | - |
| 스캔 프레임 가이드 | 코너 가이드라인 표시 | - |

### 4.2 스캔 실행
| 기능 | 설명 | 백엔드 연결 |
|------|------|------------|
| 원샷 스캔 | 버튼 클릭으로 즉시 스캔 | O |
| 스캔 라인 애니메이션 | 스캔 진행 시각 효과 | - |
| Gemini Vision OCR | AI 기반 문서 텍스트 인식 | O |
| 위험 키워드 탐지 | HIGH/MEDIUM/LOW 위험 키워드 매칭 | O |

### 4.3 스캔 결과
| 기능 | 설명 | 백엔드 연결 |
|------|------|------------|
| AR 오버레이 마커 | 위험 영역 시각적 표시 | O |
| 위험도 배지 | 전체 위험 수준 표시 | O |
| 탐지 조항 리스트 | 발견된 위험 문구 목록 | O |
| 스캔 소요 시간 표시 | 분석 처리 시간 표시 | O |
| 하단 시트 확장/축소 | 결과 패널 토글 | - |

### 4.4 핑계 도우미
| 기능 | 설명 | 백엔드 연결 |
|------|------|------------|
| 핑계 템플릿 | 4종 핑계 문구 제공 | - |
| 클립보드 복사 | 탭하여 문구 복사 | - |

### 4.5 Quick Tips
| 기능 | 설명 | 백엔드 연결 |
|------|------|------------|
| 팁 자동 순환 | 4초 간격 팁 변경 | - |
| 계약서 확인 팁 | 주요 확인 사항 안내 | - |

---

## 5. 고용계약 체크리스트 (`/checklist`)

### 5.1 체크리스트 카테고리
| 카테고리 | 항목 수 | 설명 |
|----------|--------|------|
| 기본 근로조건 | 4개 | 계약 기간, 근무지, 근로시간, 휴게시간 |
| 임금 관련 | 4개 | 기본급, 지급일, 수당, 상여금 |
| 휴가 및 휴일 | 3개 | 주휴일, 연차휴가, 경조사 휴가 |
| 계약 종료 | 3개 | 해고 사유, 퇴직금, 경업금지 |
| 기타 확인사항 | 3개 | 4대보험, 위약금, 교육비 반환 |

### 5.2 UI 기능
| 기능 | 설명 | 백엔드 연결 |
|------|------|------------|
| 체크박스 토글 | 항목별 확인 체크 | - (로컬) |
| 진행률 표시 | 전체/카테고리별 진행률 | - |
| 중요도 배지 | 필수/중요/권장 구분 | - |
| 팁 토글 | 항목별 상세 팁 펼치기/접기 | - |
| 원형 진행률 | 헤더 진행률 아이콘 | - |

---

## 6. 분석 히스토리 (`/history`)

### 6.1 목록 조회
| 기능 | 설명 | 백엔드 연결 |
|------|------|------------|
| 분석 이력 목록 | 전체 분석 계약서 리스트 | O |
| 상태 필터 | 완료/진행중/실패 필터링 | O |
| 위험도 필터 | HIGH/MEDIUM/LOW 필터링 | O |
| 검색 | 제목/내용 검색 | O |
| 정렬 | 날짜순/위험도순 정렬 | O |

### 6.2 히스토리 항목
| 기능 | 설명 | 백엔드 연결 |
|------|------|------------|
| 썸네일 | 문서 미리보기 이미지 | O |
| 제목 및 날짜 | 계약서 제목, 분석 일시 | O |
| 위험도 배지 | 분석 결과 위험 수준 | O |
| 상세 보기 링크 | 분석 결과 상세 페이지 이동 | - |

---

## 7. 문서 버전 관리 (`/contract-revisions`)

### 7.1 버전 기능
| 기능 | 설명 | 백엔드 연결 |
|------|------|------------|
| 버전 목록 조회 | 계약서별 버전 히스토리 | O |
| 버전 생성 | 현재 상태 스냅샷 저장 | O |
| 버전 복원 | 이전 버전으로 롤백 | O |
| 버전 비교 | Google Docs 스타일 diff | O |

---

## 8. 분석 인증서 (`/certification`)

### 8.1 인증서 기능
| 기능 | 설명 | 백엔드 연결 |
|------|------|------------|
| 인증서 생성 | 분석 결과 공식 인증서 발급 | O |
| PDF 다운로드 | 인증서 PDF 내보내기 | O |
| 인증서 번호 | 고유 인증 번호 생성 | O |

---

## 9. 설정 (`/settings`)

### 9.1 프로필 설정
| 기능 | 설명 | 백엔드 연결 |
|------|------|------------|
| 사용자명 변경 | 표시 이름 수정 | O |
| 이메일 변경 | 로그인 이메일 변경 | O |
| 프로필 이미지 | 프로필 사진 업로드 | X |

### 9.2 보안 설정
| 기능 | 설명 | 백엔드 연결 |
|------|------|------------|
| 비밀번호 변경 | 현재/새 비밀번호 입력 | O |
| 계정 삭제 | 회원 탈퇴 및 데이터 삭제 | O |

### 9.3 알림 설정
| 기능 | 설명 | 백엔드 연결 |
|------|------|------------|
| 푸시 알림 토글 | 앱 푸시 알림 on/off | X |
| 이메일 알림 토글 | 이메일 알림 on/off | X |
| 분석 완료 알림 | 분석 완료 시 알림 | X |

---

## 10. AI 분석 파이프라인 (Backend)

### 10.1 문서 전처리
| 모듈 | 기능 | 상태 |
|------|------|------|
| PII Masking | 개인정보 비식별화 (주민번호, 전화번호, 이메일 등) | O |
| Document Parser | PDF/이미지 텍스트 추출 | O |
| Vision RAG | 표/차트 이미지 분석 (Gemini Vision) | O |

### 10.2 검색 및 RAG
| 모듈 | 기능 | 상태 |
|------|------|------|
| HyDE | 구어체 -> 법률 전문 용어 변환, 가설 문서 생성 | O |
| RAPTOR | 계층적 문서 요약 및 클러스터링 | O |
| CRAG | 검색 결과 품질 평가 및 보완 | O |
| Muvera Search | Multi-Vector 기반 FDE 검색 | O |
| Neo4j 그래프 검색 | 위험 패턴 그래프 순회 | O |

### 10.3 분석 엔진
| 모듈 | 기능 | 상태 |
|------|------|------|
| ClauseAnalyzer | 조항별 위험도 분석 | O |
| Legal Stress Test | Neuro-Symbolic 수치 시뮬레이션 | O |
| Generative Redlining | 위험 조항 수정안 생성 | O |
| Constitutional AI | 노동법 원칙 기반 자기 비판/수정 | O |

### 10.4 품질 보증
| 모듈 | 기능 | 상태 |
|------|------|------|
| LLM-as-a-Judge | 분석 신뢰도 평가 (정확성/일관성/완전성) | O |
| Reasoning Trace | 추론 과정 시각화 (XAI) | O |

### 10.5 LLM 모델 배치
| 용도 | 모델 | Provider |
|------|------|----------|
| Retrieval/Embedding | gemini-2.5-flash-lite | Google |
| Clause Analyzer | gpt-4o | OpenAI |
| Reasoning | gpt-4.1 | OpenAI |
| HyDE | gpt-4o-mini | OpenAI |
| CRAG | gpt-4o-mini | OpenAI |
| RAPTOR | gemini-2.5-flash-preview | Google |
| Redliner | gpt-4o | OpenAI |
| Scan/OCR | gemini-2.5-flash-preview | Google |
| Location Mapping | gemini-2.5-flash-preview | Google |
| Judge | gpt-4o | OpenAI |
| Constitutional AI | gpt-4o | OpenAI |
| Vision RAG | gemini-2.5-flash-preview-09-2025 | Google |

---

## 11. LangGraph Agent

### 11.1 대화형 에이전트
| 기능 | 설명 | 상태 |
|------|------|------|
| SSE 스트리밍 응답 | 실시간 토큰 스트리밍 | O |
| 대화 히스토리 관리 | 멀티턴 대화 컨텍스트 유지 | O |
| 분석 컨텍스트 주입 | 계약서 분석 결과 기반 응답 | O |
| Tool Calling | 검색, 계산 도구 호출 | O |

### 11.2 사용 가능 도구
| 도구 | 기능 |
|------|------|
| search_muvera | Multi-Vector 유사도 검색 |
| search_risk_pattern | 위험 패턴 그래프 검색 |
| calculate_wage | 임금 계산 시뮬레이션 |

---

## 12. 공통 UI 컴포넌트

### 12.1 레이아웃
| 컴포넌트 | 설명 |
|----------|------|
| MainLayout | 사이드바/헤더 포함 공통 레이아웃 |
| Sidebar | 네비게이션 사이드바 |
| NotificationPanel | 알림 패널 |
| SearchPanel | 전역 검색 패널 |

### 12.2 차트
| 컴포넌트 | 설명 |
|----------|------|
| RiskPieChart | 위험도 분포 파이 차트 |
| ProgressBar | 분석 진행률 바 |
| CircularProgress | 원형 진행률 표시기 |

### 12.3 기타
| 컴포넌트 | 설명 |
|----------|------|
| AIAvatar | 인터랙티브 AI 오브 |
| SwirlOrb | WebGL 기반 오브 애니메이션 |
| PDFViewer | PDF 문서 뷰어 |
| Badge | 상태/위험도 배지 |

---

## 13. API 엔드포인트 목록

### 13.1 인증 (`/api/v1/auth`)
| Method | Endpoint | 설명 |
|--------|----------|------|
| POST | `/signup` | 회원가입 |
| POST | `/login` | 로그인 |
| POST | `/refresh` | 토큰 갱신 |
| POST | `/logout` | 로그아웃 |

### 13.2 계약서 (`/api/v1/contracts`)
| Method | Endpoint | 설명 |
|--------|----------|------|
| POST | `/` | 계약서 업로드 |
| GET | `/` | 계약서 목록 조회 |
| GET | `/{id}` | 계약서 상세 조회 |
| DELETE | `/{id}` | 계약서 삭제 |
| GET | `/{id}/versions` | 버전 목록 조회 |
| POST | `/{id}/versions` | 버전 생성 |
| POST | `/{id}/versions/{num}/restore` | 버전 복원 |

### 13.3 스캔 (`/api/v1/scan`)
| Method | Endpoint | 설명 |
|--------|----------|------|
| POST | `/quick` | 빠른 스캔 실행 |
| GET | `/keywords` | 위험 키워드 목록 |

### 13.4 분석 (`/api/v1/analysis`)
| Method | Endpoint | 설명 |
|--------|----------|------|
| POST | `/stress-test` | 수치 시뮬레이션 |
| POST | `/redlining` | 수정 제안 생성 |
| POST | `/judge` | 신뢰도 평가 |
| POST | `/pii-mask` | 개인정보 마스킹 |
| POST | `/hyde` | 검색 쿼리 강화 |
| POST | `/constitutional-review` | 헌법적 검토 |
| GET | `/contract/{id}/reasoning-trace` | 추론 과정 조회 |
| GET | `/contract/{id}/analysis-detail` | 상세 분석 결과 |
| GET | `/pipeline-info` | 파이프라인 정보 |

### 13.5 AI 채팅 (`/api/v1/agent`)
| Method | Endpoint | 설명 |
|--------|----------|------|
| POST | `/{contract_id}/stream` | 스트리밍 채팅 |
| POST | `/{contract_id}/stream/history` | 히스토리 포함 채팅 |
| POST | `/{contract_id}` | 일반 채팅 |

### 13.6 체크리스트 (`/api/v1/checklist`)
| Method | Endpoint | 설명 |
|--------|----------|------|
| GET | `/` | 2025 고용계약 체크리스트 |

---

## 범례

- **백엔드 연결 O**: API 연동 완료
- **백엔드 연결 X**: 미구현 (향후 구현 예정)
- **백엔드 연결 -**: 프론트엔드 전용 기능 (백엔드 불필요)
- **상태 O**: 구현 완료

---

*마지막 업데이트: 2025-12-17*
